loadEnvironment() {
    const loader = new GLTFLoader();
    
    // RELATIVE PATH: This is the most compatible with GitHub Pages
    const path = 'public/city.glb'; 
    
    debug(`Requesting City GLB from: ${path}`);

    // Create a fallback floor so you can see the player even if the city fails
    const floor = new THREE.Mesh(
        new THREE.PlaneGeometry(2000, 2000),
        new THREE.MeshStandardMaterial({ color: 0x222222 })
    );
    floor.rotation.x = -Math.PI / 2;
    this.scene.add(floor);

    loader.load(path, 
        (gltf) => {
            debug("SUCCESS: City GLB Loaded.");
            this.scene.remove(floor); // Remove fallback
            this.scene.add(gltf.scene);
            
            const box = new THREE.Box3().setFromObject(gltf.scene);
            const center = box.getCenter(new THREE.Vector3());
            
            // Positioning camera to see the city
            this.camera.position.set(center.x, center.y + 200, center.z + 500);
            this.camera.lookAt(center);
            
            document.getElementById('log').innerText = "READY";
            document.getElementById('sub-log').innerText = "City Rendered";
        },
        (xhr) => {
            if (xhr.total > 0) {
                const p = Math.round((xhr.loaded / xhr.total) * 100);
                document.getElementById('sub-log').innerText = `Downloading City: ${p}%`;
            }
        },
        (err) => {
            debug(`STILL FAILED: 404 at ${path}`);
            document.getElementById('log').innerText = "LOAD ERROR";
            document.getElementById('sub-log').innerText = "Check Browser Console";
        }
    );
}